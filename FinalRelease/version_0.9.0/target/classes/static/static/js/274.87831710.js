"use strict";(self["webpackChunkclubflow"]=self["webpackChunkclubflow"]||[]).push([[274],{4220:function(t,e,s){s.d(e,{Z:function(){return g}});var a=s(3396),i=s(7139),n=s.p+"img/u95.6cc06372.svg";const o=t=>((0,a.dD)("data-v-714c4350"),t=t(),(0,a.Cn)(),t),l={class:"subtitle container d-flex flex-column justify-content-center",style:{"margin-top":"100px","margin-bottom":"70px"}},r={class:"mt-0 d-flex justify-content-center d-inline-flex text-center align-items-center"},d=o((()=>(0,a._)("div",{class:"myline me-3 px-0"},[(0,a._)("img",{class:"img",src:n})],-1))),m={class:"subtitle text text-center"},c=o((()=>(0,a._)("div",{class:"myline ms-3 px-0"},[(0,a._)("img",{class:"img",src:n})],-1))),b=o((()=>(0,a._)("div",{class:"d-flex mt-1 justify-content-center text-center"},[(0,a._)("div",{id:"u107_div",class:"myunderline"})],-1)));function f(t,e,s,n,o,f){return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",r,[d,(0,a._)("div",m,[(0,a._)("span",null,(0,i.zw)(s.subtitle),1)]),c]),b])}var u={name:"SubTitle",components:{},props:["subtitle"]},p=s(89);const h=(0,p.Z)(u,[["render",f],["__scopeId","data-v-714c4350"]]);var g=h},9528:function(t,e,s){s.r(e),s.d(e,{default:function(){return Xt}});var a=s(3396),i=s(7139);const n=t=>((0,a.dD)("data-v-4f41749d"),t=t(),(0,a.Cn)(),t),o={class:"container-fluid position-relative",style:{"background-color":"rgba(102, 102, 102, 1)",height:"300px"}},l={class:"ellipse"},r=["src"],d={class:"mt-3 mb-0",style:{"font-size":"18px","font-family":"'微软雅黑 Bold', '微软雅黑 Regular', '微软雅黑', sans-serif","font-weight":"700",color:"#666666"}},m={class:"mb-2",style:{"font-size":"14px","font-family":"'微软雅黑', sans-serif","font-weight":"400",color:"#999999"}},c={key:0,style:{"font-family":"'FontAwesome', sans-serif","font-weight":"400"}},b={key:1,style:{"font-family":"'FontAwesome', sans-serif","font-weight":"400"}},f={key:2,style:{"font-family":"'微软雅黑', sans-serif","font-weight":"400"}},u={key:3,style:{"font-family":"'微软雅黑', sans-serif","font-weight":"400"}},p={class:"mt-2 mb-0",style:{"font-size":"14px",color:"#888888"}},h=n((()=>(0,a._)("span",{style:{"font-family":"'微软雅黑', sans-serif","font-weight":"400"}},"粉丝 ",-1))),g={style:{"font-family":"'微软雅黑 Bold', '微软雅黑 Regular', '微软雅黑', sans-serif","font-weight":"700"}},y={class:"pt-2 mt-5 mb-0 pb-4",style:{"background-color":"rgb(249, 249, 249)","z-index":"-1"}},I={class:"row container-fluid d-flex justify-content-center my-5"},v={class:"col-md-6 me-5"},w={class:"col-md-4 px-4"};function x(t,e,s,n,x,_){const C=(0,a.up)("HabbitComment"),H=(0,a.up)("GroupInfo"),z=(0,a.up)("SubTitle");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",o,[(0,a._)("div",l,[(0,a._)("img",{src:x.HabbitInfo.Profile,alt:"小组用户头像",style:{width:"100px",height:"100px","border-top-left-radius":"50%","border-top-right-radius":"50%"}},null,8,r),(0,a._)("p",d,(0,i.zw)(x.HabbitInfo.Name),1),(0,a._)("p",m,(0,i.zw)(x.HabbitInfo.Inform),1),(0,a._)("button",{onClick:e[0]||(e[0]=(...t)=>_.subOrUnsub&&_.subOrUnsub(...t)),class:"follow-btn",style:{"font-size":"13px"}},[x.HabbitInfo.Subscribe?((0,a.wg)(),(0,a.iD)("span",c," ")):((0,a.wg)(),(0,a.iD)("span",b," ")),x.HabbitInfo.Subscribe?((0,a.wg)(),(0,a.iD)("span",f," 已关注")):((0,a.wg)(),(0,a.iD)("span",u," 关注"))]),(0,a._)("p",p,[h,(0,a._)("span",g,(0,i.zw)(x.HabbitInfo.FansNumber),1)])])]),(0,a._)("div",y,[(0,a._)("div",I,[(0,a._)("div",v,[(0,a.Wm)(C,{HabbitId:x.HabbitId},null,8,["HabbitId"])]),(0,a._)("div",w,[(0,a.Wm)(H,{HabbitId:x.HabbitId},null,8,["HabbitId"])])]),(0,a.Wm)(z,{subtitle:x.subtitle},null,8,["subtitle"])])],64)}s(7658);var _=s(4220),C=s(9653),H=s(7434);const z=t=>((0,a.dD)("data-v-07f96090"),t=t(),(0,a.Cn)(),t),k={class:"w-100"},S={id:"id-card",class:"px-3 d-inline-flex w-100",style:{"background-color":"rgb(228, 228, 228)","padding-top":"30px","padding-bottom":"30px"}},U=z((()=>(0,a._)("img",{class:"mt-2",src:C,style:{width:"74px",height:"74px"},alt:"用户头像"},null,-1))),N={class:"ms-4 w-100"},E={class:"mb-2",style:{"font-size":"14px"}},D={style:{"font-family":"'微软雅黑 Bold', '微软雅黑 Regular', '微软雅黑', sans-serif","font-weight":"700",color:"#666666"}},T={class:"mb-1",style:{"font-size":"12px"}},F={style:{"font-family":"'微软雅黑', sans-serif","font-weight":"400",color:"#999999"}},L={class:"m-0",style:{"font-size":"12px"}},$={style:{"font-family":"'微软雅黑', sans-serif","font-weight":"400",color:"#999999"}},P={class:"m-0",style:{"font-size":"12px"}},A={style:{"font-family":"'微软雅黑', sans-serif","font-weight":"400",color:"#999999"}},W={class:"w-75 bg-white pt-4"},j={class:"w-100"},q={class:"w-100 px-3",style:{height:"260px","font-size":"13px","font-family":"'华文宋体', sans-serif","line-height":"17px"}},Z=z((()=>(0,a._)("div",{class:"w-100 pe-4 d-flex justify-content-end"},[(0,a._)("button",{style:{"font-family":"'Cambria', sans-serif","font-size":"13px"}}," >> more ")],-1))),O={id:"act-mems",class:"mt-4 position-relative",style:{"font-family":"'微软雅黑', sans-serif","font-size":"12px",color:"#999999","z-index":"1"}},B=z((()=>(0,a._)("div",{class:"back-img"},null,-1))),K={style:{"background-color":"white"}},Y=z((()=>(0,a._)("div",{class:"px-3 py-2",style:{"border-bottom":"1px solid #E4E4E4"}}," 积极成员 ",-1))),M={class:"ms-3 w-100",style:{height:"160px"}},Q={class:"m-0 p-0"},R=["src"],G=(0,a.uE)('<div id="new-mems" class="mt-4 position-relative" style="font-family:&#39;微软雅黑&#39;, sans-serif;font-size:12px;color:#999999;z-index:1;" data-v-07f96090><div class="back-img" data-v-07f96090></div><div style="background-color:white;" data-v-07f96090><div class="px-3 py-2" style="border-bottom:1px solid #E4E4E4;" data-v-07f96090> 最新加入 </div><div class="ms-3 w-100" style="height:160px;" data-v-07f96090><ul class="m-0 p-0" data-v-07f96090><img class="me-3 mt-3 float-start" src="'+H+'" alt="用户头像" style="width:50px;height:50px;" data-v-07f96090><img class="me-3 mt-3 float-start" src="'+H+'" alt="用户头像" style="width:50px;height:50px;" data-v-07f96090><img class="me-3 mt-3 float-start" src="'+H+'" alt="用户头像" style="width:50px;height:50px;" data-v-07f96090><img class="me-3 mt-3 float-start" src="'+H+'" alt="用户头像" style="width:50px;height:50px;" data-v-07f96090><img class="me-3 mt-3 float-start" src="'+H+'" alt="用户头像" style="width:50px;height:50px;" data-v-07f96090><img class="me-3 mt-3 float-start" src="'+H+'" alt="用户头像" style="width:50px;height:50px;" data-v-07f96090><img class="me-3 mt-3 float-start" src="'+H+'" alt="用户头像" style="width:50px;height:50px;" data-v-07f96090></ul></div></div></div>',1);function X(t,e,s,n,o,l){return(0,a.wg)(),(0,a.iD)("div",k,[(0,a._)("div",S,[U,(0,a._)("div",N,[(0,a._)("p",E,[(0,a._)("span",D,(0,i.zw)(t.HabbitInfo.Name),1)]),(0,a._)("p",T,[(0,a._)("span",F,(0,i.zw)(t.HabbitInfo.Category),1)]),(0,a._)("p",L,[(0,a._)("span",$,(0,i.zw)(t.HabbitInfo.CreateTime)+" 创建",1)]),(0,a._)("p",P,[(0,a._)("span",A,"发起人："+(0,i.zw)(t.HabbitInfo.Creator),1)])])]),(0,a._)("div",W,[(0,a._)("div",j,[(0,a._)("div",q,(0,i.zw)(t.HabbitInfo.Announcement),1),Z]),(0,a._)("div",O,[B,(0,a._)("div",K,[Y,(0,a._)("div",M,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.fanProfiles,(t=>((0,a.wg)(),(0,a.iD)("ul",Q,[(0,a._)("img",{class:"me-3 mt-3 float-start",src:t,alt:"用户头像",style:{width:"50px",height:"50px"}},null,8,R)])))),256))])])]),G])])}var V=s(4870),J={name:"GroupInfo",props:["HabbitId"],data:function(){return{UserId:0,IsLogin:!1,Habbit:0,HabbitInfo:(0,V.qj)({CreateTime:"2022-10-30",Name:"晨跑小组",Category:"爱好社区",Creator:"Windir",FansNumber:0,Profile:s(9653),PubNum:0,Subscribe:0,CommentNum:0,Inform:"",Announcement:"简介：介绍协会。文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例。"}),fanProfiles:[],fans:null}},methods:{checkImgUrl(t){var e=/^http/g,s=e.test(t);return s},viewFans(){this.$axios.get("/habbit/view_fans",{params:{HabbitId:this.Habbit}}).then((t=>{this.fans=t.data;let e=this.fans;for(let i in e){var a=this.checkImgUrl(this.fans[i].image);a?this.fanProfiles.push(this.fans[i].image):this.fanProfiles.push(s(7434))}})).catch((t=>{console.log(t)}))},getCreatorName(t){this.$axios.get("/user/view",{params:{UserIdtoView:t,UserId:this.UserId}}).then((t=>(this.HabbitInfo.Creator=t.data.name,t.data.name))).catch((t=>{console.log(t)}))}},created:function(){this.UserId=this.$store.state.UserId,this.UserId?this.IsLogin=!0:this.UserId=0},watch:{HabbitId:{immediate:!0,deep:!0,handler(t,e){if(!t)return;this.UserId=this.$store.state.UserId,this.UserId?this.IsLogin=!0:this.UserId=0,this.Habbit=t;let s=this;this.$axios.get("/habbit/view",{params:{HabbitId:this.Habbit,UserId:this.UserId}}).then((t=>{var e=new Date(t.data["created time"]);if(this.HabbitInfo.CreateTime=e.Format("yyyy-MM-dd"),this.HabbitInfo.Name=t.data.name,this.HabbitInfo.FansNumber=t.data["fans number"],t.data.profile){var a=s.checkImgUrl(t.data.profile);a&&(this.HabbitInfo.Profile=t.data.profile)}this.HabbitInfo.PubNum=t.data["publications number"],this.HabbitInfo.Subscribe=t.data.subscribe,this.HabbitInfo.CommentNum=t.data["comments number"],this.HabbitInfo.Inform=t.data.inform,this.HabbitInfo.Creator=t.data.creator,this.getCreatorName(this.HabbitInfo.Creator),t.data.announcement&&(this.HabbitInfo.Announcement=t.data.announcement)})).catch((t=>{console.log(t)})),this.viewFans()}}},mounted:function(){}},tt=s(89);const et=(0,tt.Z)(J,[["render",X],["__scopeId","data-v-07f96090"]]);var st=et,at=s(7566);const it=t=>((0,a.dD)("data-v-29e1d0fb"),t=t(),(0,a.Cn)(),t),nt=(0,a.uE)('<div class="d-flex justify-content-between align-items-end w-100" data-v-29e1d0fb><div class="dropdown" data-v-29e1d0fb><button type="button" class="py-2 btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" style="font-size:15px;width:140px;" data-v-29e1d0fb> 排序方式 </button><div class="dropdown-menu" style="font-size:14px;" data-v-29e1d0fb><a class="dropdown-item active" href="#" data-v-29e1d0fb>按时间排序</a><a class="dropdown-item" href="#" data-v-29e1d0fb>按热度排序</a></div></div><p class="pb-1 m-0" style="font-size:13px;" data-v-29e1d0fb><span style="color:#999999;" data-v-29e1d0fb>共</span><span style="color:#F95E5A;" data-v-29e1d0fb>18</span><span style="color:#999999;" data-v-29e1d0fb>条动态</span></p></div>',1),ot={class:"w-100 mt-2"},lt={class:"mt-5"},rt={style:{"list-style-type":"none"}},dt={class:"py-4 px-4",style:{"background-color":"white",border:"1px solid #E4E4E4"}},mt={class:"d-flex align-items-center"},ct=["src"],bt={class:"ms-4"},ft={class:"mb-1",style:{"font-size":"14px"}},ut={style:{"font-family":"'微软雅黑', sans-serif","font-weight":"400",color:"#666666"}},pt={class:"m-0",style:{"font-size":"12px"}},ht={style:{"font-family":"'微软雅黑', sans-serif","font-weight":"400",color:"#999999"}},gt={class:"mt-3",style:{"font-size":"13px",color:"#999999","line-height":"23px"}},yt={class:"w-100 d-flex justify-content-evenly",style:{color:"#999999"}},It=it((()=>(0,a._)("span",{style:{"font-family":"'FontAwesome', sans-serif","font-weight":"400","font-size":"16px"}}," ",-1))),vt={style:{"font-family":"'微软雅黑', sans-serif","font-weight":"400"}},wt=["onClick"],xt=it((()=>(0,a._)("span",{style:{"font-family":"'FontAwesome', sans-serif","font-weight":"400","font-size":"16px"}}," ",-1))),_t={style:{"font-family":"'微软雅黑', sans-serif","font-weight":"400"}},Ct=it((()=>(0,a._)("span",{style:{"font-family":"'FontAwesome', sans-serif","font-weight":"400","font-size":"16px"}}," ",-1))),Ht={style:{"font-family":"'微软雅黑', sans-serif","font-weight":"400"}},zt={key:0,class:"px-5 py-4 secondary-comment",style:{border:"1px solid #E4E4E4"}},kt=(0,a.uE)('<div class="d-flex" data-v-29e1d0fb><img class="rounded-circle" src="'+at+'" alt="用户头像" style="width:46px;height:46px;" data-v-29e1d0fb><div class="ms-4 w-100" data-v-29e1d0fb><div class="mb-3" data-v-29e1d0fb><textarea id="comment-text" class="form-control" placeholder="回复..." rows="5" name="text" style="height:100px;border-radius:0px;" data-v-29e1d0fb></textarea></div><button title="发布评论" type="submit" class="btn btn-primary float-end px-4" style="font-size:14px;height:42px;width:120px;" data-v-29e1d0fb>发布</button></div></div>',1),St={class:"d-flex mb-4",style:{"list-style-type":"none"}},Ut=["src"],Nt={class:"mx-3"},Et={class:"mb-1",style:{"font-size":"14px"}},Dt={style:{color:"#999999"}},Tt={class:"m-0",style:{"font-size":"12px"}},Ft={style:{color:"#CCCCCC"}},Lt=it((()=>(0,a._)("button",{id:"btn-more",class:"w-100 text-center"}," 查看更多 > ",-1)));function $t(t,e,s,n,o,l){const r=(0,a.up)("comment-submit");return(0,a.wg)(),(0,a.iD)(a.HY,null,[nt,(0,a._)("div",ot,[(0,a._)("div",null,[(0,a.Wm)(r,{HabbitId:s.HabbitId},null,8,["HabbitId"])]),(0,a._)("div",lt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.comments,(t=>((0,a.wg)(),(0,a.iD)("ul",{key:t.CommentId,id:"comment-list",class:"p-0 mb-0"},[(0,a._)("li",rt,[(0,a._)("div",dt,[(0,a._)("div",mt,[(0,a._)("img",{class:"rounded-circle",src:t.Image,alt:"用户头像",style:{width:"46px",height:"46px"}},null,8,ct),(0,a._)("div",bt,[(0,a._)("p",ft,[(0,a._)("span",ut,(0,i.zw)(t.Name),1)]),(0,a._)("p",pt,[(0,a._)("span",ht,(0,i.zw)(t.Time),1)])])]),(0,a._)("div",gt,[(0,a._)("p",null,[(0,a._)("span",null,(0,i.zw)(t.Content),1)])]),(0,a._)("div",yt,[(0,a._)("button",{class:(0,i.C_)({redtext:t.Collected}),style:{"font-size":"14px"},title:"收藏"},[It,(0,a._)("span",vt,(0,i.zw)(t.Collections),1)],2),(0,a._)("button",{class:"secondary-comment-btn",onClick:e=>l.ShowOrHide(t.CommentId),style:{"font-size":"14px"},title:"评论"},[xt,(0,a._)("span",_t,(0,i.zw)(t.SubComments),1)],8,wt),(0,a._)("button",{class:(0,i.C_)({redtext:t.Liked}),style:{"font-size":"14px"},title:"点赞"},[Ct,(0,a._)("span",Ht,(0,i.zw)(t.Likes),1)],2)])]),t.ShowSubComment?((0,a.wg)(),(0,a.iD)("div",zt,[kt,(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.subcomments,(t=>((0,a.wg)(),(0,a.iD)("ul",{key:t.SubCommentId,class:"p-0 mt-2"},[(0,a._)("li",St,[(0,a._)("img",{class:"rounded-circle",src:t.Image,alt:"用户头像",style:{width:"46px",height:"46px"}},null,8,Ut),(0,a._)("div",Nt,[(0,a._)("p",Et,[(0,a._)("span",Dt,(0,i.zw)(t.Name)+"："+(0,i.zw)(t.Content),1)]),(0,a._)("p",Tt,[(0,a._)("span",Ft,(0,i.zw)(t.Time),1)])])])])))),128))])])):(0,a.kq)("",!0)])])))),128)),Lt])])],64)}const Pt={id:"comment-submit",class:"w-100 mt-2 justify-content-end d-flex"};function At(t,e,s,i,n,o){const l=(0,a.up)("QuillEditor");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l,{ref:"myQuillEditor",content:n.content,"onUpdate:content":e[0]||(e[0]=t=>n.content=t),options:n.editorOption,contentType:"html"},null,8,["content","options"]),(0,a._)("div",Pt,[(0,a._)("button",{onClick:e[1]||(e[1]=(...t)=>o.submit&&o.submit(...t))},"发布")])],64)}var Wt=s(6149),jt=s(1981),qt=s(9205);const Zt=[["bold","italic","underline","strike"],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["image"]];Wt.CX.register(qt.Z,!0),Wt.CX.register("modules/ImageExtend",jt.uq);var Ot={name:"CommentSubmit",components:{QuillEditor:Wt.Bn},props:["HabbitId","model"],data(){return{content:"",myQuillEditor:(0,V.iH)(),editorOption:{theme:"snow",placeholder:"发表你的动态吧！",modules:{ImageExtend:{loading:!0,name:"file",action:(0,a.FN)()?.appContext.config.globalProperties.$Baseurl+"comment/image",headers:t=>{},response:t=>(console.log(t),t.imgURL),size:8,sizeError:()=>{this.$message.error("粘贴图片大小不能超过8MB!")}},toolbar:{container:Zt,handlers:{image:function(t){jt.uv.emit(this.quill.id)},link:function(t){if(t){var e=prompt("请输入链接地址：");this.quill.format("link",e)}else this.quill.format("link",!1)}}}}}}},methods:{submit(){console.log(this.content);let t=new Date;var e=this;this.$axios.post("/habbit/post",{content:e.content,HabbitId:e.HabbitId,time:t.toLocaleString(),UserId:e.$store.state.UserId}).then((t=>{200===t.data.code?alert("发布成功！"):alert("发布失败！")})).catch((t=>{alert("发布失败！")})),location.reload()}}};const Bt=(0,tt.Z)(Ot,[["render",At],["__scopeId","data-v-52d2192e"]]);var Kt=Bt,Yt={props:["HabbitId"],name:"HabbitComment",components:{CommentSubmit:Kt},data(){return{comments:[{CommentId:0,Name:"Kita",Time:"5 分钟前",Image:s(7566),Content:"我爱晨跑。今天早上6:00起床，天还没有完全亮，以后应该会亮的更晚吧。想要有人和我一起晨跑！文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例。",Liked:!0,Collected:!1,Likes:777,SubComments:999,Collections:333,ShowSubComment:!1},{CommentId:1,Name:"Kita",Time:"5 分钟前",Image:s(7566),Content:"我爱晨跑。今天早上6:00起床，天还没有完全亮，以后应该会亮的更晚吧。想要有人和我一起晨跑！文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例。",Liked:!1,Collected:!1,Likes:777,SubComments:999,Collections:333,ShowSubComment:!1},{CommentId:2,Name:"Kita",Time:"5 分钟前",Image:s(7566),Content:"我爱晨跑。今天早上6:00起床，天还没有完全亮，以后应该会亮的更晚吧。想要有人和我一起晨跑！文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例。",Liked:!1,Collected:!1,Likes:777,SubComments:999,Collections:333,ShowSubComment:!1}],subcomments:[{fatherId:0,SubCommentId:0,Name:"Windir",Time:"12月25日 17:57",Image:s(7566),Content:"发表评论。评论不超过300字。"},{fatherId:0,SubCommentId:0,Name:"Windir",Time:"12月25日 17:57",Image:s(7566),Content:"发表评论。评论不超过300字。"},{fatherId:0,SubCommentId:0,Name:"Windir",Time:"12月25日 17:57",Image:s(7566),Content:"发表评论。评论不超过300字。"}]}},methods:{ShowOrHide(t){this.comments.forEach((function(e){e.CommentId==t&&(e.ShowSubComment,e.ShowSubComment=!e.ShowSubComment)}))}}};const Mt=(0,tt.Z)(Yt,[["render",$t],["__scopeId","data-v-29e1d0fb"]]);var Qt=Mt,Rt={name:"HabbitContent",components:{SubTitle:_.Z,GroupInfo:st,HabbitComment:Qt},data(){return{subtitle:"猜你喜欢",HabbitId:0,UserId:0,IsLogin:!1,HabbitInfo:{CreateTime:"2022-10-30",Name:"晨跑小组",Category:"爱好社区",Creator:"Windir",FansNumber:0,Profile:s(7940),PubNum:0,Subscribe:0,CommentNum:0,Inform:"",Announcement:"简介：介绍协会。文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例。"}}},methods:{checkImgUrl(t){var e=/^http/g,s=e.test(t);return s},subOrUnsub(){this.IsLogin?this.HabbitInfo.Subscribe?this.$axios.post("/habbit/unsubscribe",{HabbitId:this.HabbitId,UserId:this.UserId}).then((t=>{1===t.data.state?(alert("取消成功！"),location.reload()):alert(t.data.error)})).catch((t=>{alert("取消失败！")})):this.$axios.post("/habbit/subscribe",{HabbitId:this.HabbitId,UserId:this.UserId}).then((t=>{1===t.data.state?(console.log(t.data),alert("关注成功！"),location.reload()):alert(t.data.error)})).catch((t=>{alert("关注失败！")})):(alert("请先登录！"),this.$router.push("/login"))}},created(){this.UserId=this.$store.state.UserId,this.HabbitId=this.$route.query.HabbitId,this.UserId?this.IsLogin=!0:this.UserId=0},mounted(){let t=this;this.$axios.get("/habbit/view",{params:{HabbitId:this.HabbitId,UserId:this.UserId}}).then((e=>{console.log(e);var s=new Date(e.data["created time"]);if(this.HabbitInfo.CreateTime=s.Format("yyyy-MM-dd"),this.HabbitInfo.Name=e.data.name,this.HabbitInfo.FansNumber=e.data["fans number"],e.data.profile){var a=t.checkImgUrl(e.data.profile);a&&(this.HabbitInfo.Profile=e.data.profile)}this.HabbitInfo.PubNum=e.data["publications number"],this.HabbitInfo.Subscribe=e.data.subscribe,this.HabbitInfo.CommentNum=e.data["comments number"],this.HabbitInfo.Inform=e.data.inform,this.HabbitInfo.Creator=e.data.creator,e.data.announcement&&(this.HabbitInfo.Announcement=e.data.announcement)})).catch((t=>{console.log(t)}))}};const Gt=(0,tt.Z)(Rt,[["render",x],["__scopeId","data-v-4f41749d"]]);var Xt=Gt},9653:function(t,e,s){t.exports=s.p+"img/default-user-square-dark.a4605367.png"},7434:function(t,e,s){t.exports=s.p+"img/default-user-square-light.65dadae9.png"}}]);
//# sourceMappingURL=274.87831710.js.map