"use strict";(self["webpackChunkclubflow"]=self["webpackChunkclubflow"]||[]).push([[635,680],{3277:function(e,t,s){s.d(t,{Z:function(){return f}});var n=s(3396);const l={class:"container-fluid position-relative",style:{"background-color":"rgba(102, 102, 102, 1)",height:"300px"}},o=(0,n.uE)('<button id="upcover" class="upimg" data-v-32e03cc1><p class="mb-1" style="font-size:28px;" data-v-32e03cc1><span style="font-family:&#39;FontAwesome Regular&#39;, &#39;FontAwesome&#39;, sans-serif;font-weight:400;" data-v-32e03cc1></span></p><p class="mb-0" style="font-size:14px;" data-v-32e03cc1><span style="font-family:&#39;微软雅黑&#39;, sans-serif;font-weight:400;" data-v-32e03cc1>上传封面</span></p></button>',1),a=[o];function i(e,t,s,o,i,c){return(0,n.wg)(),(0,n.iD)("div",l,a)}var c={name:"ClubBanner",components:{},props:["ClubId"]},r=s(89);const d=(0,r.Z)(c,[["render",i],["__scopeId","data-v-32e03cc1"]]);var f=d},5635:function(e,t,s){s.r(t),s.d(t,{default:function(){return M}});var n=s(3396),l=s(9242),o=s(100);const a=e=>((0,n.dD)("data-v-5567e57f"),e=e(),(0,n.Cn)(),e),i=(0,n.uE)('<div class="my-3 d-flex px-3 py-3 mx-4 align-items-center" style="border-bottom:rgb(233, 233, 233) 1px solid;" data-v-5567e57f><div class="mx-5 d-inline-flex align-items-center" data-v-5567e57f><div class="me-4" data-v-5567e57f><img class="rounded-circle" src="'+o+'" alt="用户头像" style="width:79px;height:79px;" data-v-5567e57f></div><div class="" data-v-5567e57f><p class="mb-0" style="font-size:18px;" data-v-5567e57f><span style="font-family:&#39;微软雅黑 Bold&#39;, &#39;微软雅黑 Regular&#39;, &#39;微软雅黑&#39;, sans-serif;font-weight:700;color:#666666;" data-v-5567e57f>社团名称</span></p><p class="mb-0" style="font-size:14px;" data-v-5567e57f><span style="font-family:&#39;微软雅黑&#39;, sans-serif;font-weight:400;color:#999999;" data-v-5567e57f>副标题</span></p></div></div><div class="ms-5" style="font-size:18px;color:#A4A4A4;" data-v-5567e57f> 创建者编辑页 </div></div>',1),c={id:"basic-info",class:"my-4 px-5 mx-5"},r=a((()=>(0,n._)("div",{class:""},[(0,n._)("span",{class:"ms-2 me-2",style:{"font-family":"'FontAwesome', sans-serif","font-size":"22px"}},""),(0,n._)("span",{style:{"font-family":"'Microsoft JhengHei UI', sans-serif","font-size":"16px",color:"#B82D29"}},"基本信息"),(0,n._)("div",{class:"mt-1",style:{"background-color":"rgb(228, 228, 228)",height:"8px"}})],-1))),d={class:"px-2 py-4",style:{"background-color":"rgb(250, 250, 250)"}},f={class:"w-100 d-flex mb-4 align-items-center",style:{"font-size":"14px"}},m=a((()=>(0,n._)("div",{style:{width:"105px"}},"社区标题：",-1))),u={class:"w-100 d-flex mb-4 align-items-center",style:{"font-size":"14px"}},p=a((()=>(0,n._)("div",{style:{width:"105px"}},"副标题：",-1))),g={id:"up-img-form",class:"w-100 d-flex mb-4 align-items-center",style:{"font-size":"14px"}},b=a((()=>(0,n._)("div",{style:{width:"105px"}},"上传头像：",-1))),v=a((()=>(0,n._)("div",{class:"w-100 px-5 my-2 d-flex justify-content-end"},[(0,n._)("button",{class:"re-btn me-2"},"重置"),(0,n._)("button",{class:"sav-btn"},"保存")],-1))),x={style:{"background-color":"rgb(250, 250, 250)"}},y={id:"basic-info",class:"my-4 px-5 mx-5 py-3"},h=a((()=>(0,n._)("div",{class:""},[(0,n._)("span",{class:"ms-2 me-2",style:{"font-family":"'FontAwesome', sans-serif","font-size":"22px"}},""),(0,n._)("span",{style:{"font-family":"'Microsoft JhengHei UI', sans-serif","font-size":"16px",color:"#B82D29"}},"资料卡"),(0,n._)("div",{class:"mt-1",style:{"background-color":"rgb(228, 228, 228)",height:"8px"}})],-1))),I={class:"px-2 py-4"},_=a((()=>(0,n._)("div",{style:{"font-family":"'华文宋体', sans-serif","font-size":"14px","line-height":"18px"}}," 简介：介绍协会。文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例。 ",-1))),w=a((()=>(0,n._)("div",{class:"w-100 px-5 my-2 d-flex justify-content-end"},[(0,n._)("button",{class:"re-btn me-2"},"重置"),(0,n._)("button",{class:"sav-btn"},"保存")],-1))),U={class:"my-5 px-5 mx-5 py-3"},B=a((()=>(0,n._)("div",{class:""},[(0,n._)("span",{class:"ms-2 me-2",style:{"font-family":"'FontAwesome', sans-serif","font-size":"22px"}},""),(0,n._)("span",{style:{"font-family":"'Microsoft JhengHei UI', sans-serif","font-size":"16px",color:"#B82D29"}},"提交创建或更改（等待审核后可通过）"),(0,n._)("div",{class:"mt-1",style:{"background-color":"rgb(228, 228, 228)",height:"8px"}})],-1))),z={class:"w-100 px-5 my-4 d-flex justify-content-evenly"},C=a((()=>(0,n._)("button",{class:"re-btn",style:{width:"145px",height:"55px","font-size":"18px"}},[(0,n._)("span",{style:{"font-family":"'FontAwesome', sans-serif"}}," "),(0,n.Uk)("重置")],-1))),k=a((()=>(0,n._)("span",{style:{"font-family":"'FontAwesome', sans-serif"}}," ",-1)));function A(e,t,s,o,a,A){const D=(0,n.up)("ClubBanner"),F=(0,n.up)("UpImage");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(D,{ClubId:a.ClubId},null,8,["ClubId"]),i,(0,n._)("div",c,[r,(0,n._)("div",d,[(0,n._)("div",f,[m,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.clubInform.name=e),type:"text",placeholder:"请输入社团名称",maxlength:"20"},null,512),[[l.nr,a.clubInform.name]])]),(0,n._)("div",u,[p,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.clubInform.inform=e),type:"text",placeholder:"请输入副标题",maxlength:"20"},null,512),[[l.nr,a.clubInform.inform]])]),(0,n._)("div",g,[b,(0,n.Wm)(F,{onUpUrl:A.getImgURL},null,8,["onUpUrl"])])]),v]),(0,n._)("div",x,[(0,n._)("div",y,[h,(0,n._)("div",I,[_,(0,n.wy)((0,n._)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>a.announcement=e),id:"intro-text",class:"form-control mt-5",placeholder:"请输入协会简要介绍信息。不超过500字。",maxlength:"500",name:"text",style:{height:"160px","border-radius":"3px","font-size":"14px"}},null,512),[[l.nr,a.announcement]])]),w])]),(0,n._)("div",U,[B,(0,n._)("div",z,[C,(0,n._)("button",{onClick:t[3]||(t[3]=(...e)=>A.submitBasicInform&&A.submitBasicInform(...e)),class:"sav-btn",style:{width:"145px",height:"55px","font-size":"18px"}},[k,(0,n.Uk)("提交")])])])],64)}s(7658);var D=s(3277),F=s(9680),j={name:"CreateClub",components:{ClubBanner:D.Z,UpImage:F["default"]},data(){return{ClubId:0,UserId:0,clubInform:reactive({profile:"",name:"",inform:"",UserId:0}),announcement:""}},methods:{getImgURL(e){this.clubInform.profile=e},submitBasicInform(){let e=this;this.$axios.put("club/create",this.clubInform).then((t=>{console.log(t.data);var s=t.data;1==s.state?(this.ClubId=s.clubId,console.log(s.clubId),e.submitAnnouncement(s.clubId)):(alert("创建失败！社团名重复！"),location.reload())})).catch((e=>{alert("请求异常")}))},submitAnnouncement(e){var t={UserId:this.UserId,ClubId:e,context:this.announcement};console.log("CLUBID",e);let s=this;this.$axios.put("club/announcement/create",t).then((t=>{console.log("第二次",t);var n=t.data;1==n.state?(alert("创建成功！"),s.$router.push({path:"/clubeditpage",query:{ClubId:e}})):(alert("创建失败！"),location.reload())})).catch((e=>{alert("请求异常")}))}},created(){this.UserId=this.$store.state.UserId,this.UserId||(this.UserId=0),this.clubInform.UserId=this.UserId},mounted(){}},H=s(89);const L=(0,H.Z)(j,[["render",A],["__scopeId","data-v-5567e57f"]]);var M=L},9680:function(e,t,s){s.r(t),s.d(t,{default:function(){return f}});var n=s(3396),l=s(7139),o=s(4870),a=s(7178),i=s(2655),c=s(2748),r={__name:"UpImage",props:{product_id:Number},emits:["upUrl"],setup(e,{emit:t}){const s=(0,o.qj)([]),r=(0,n.FN)()?.appContext.config.globalProperties.$Baseurl+"comment/image",d=(0,o.qj)({showBtnDealImg:!0,noneBtnImg:!1}),f=(0,o.iH)(0),m=e=>{console.log("上传前端校验",e);const t=e.size/1024/1024<2;e.type;if(!t)return a.z8.success({message:"上传图片不能超过2MB哦!"}),!1},u=(e,s)=>{console.log("handleSuccessres",e),console.log("handleSuccessfile",s),e?(a.z8.success({message:"上传成功!"}),t("upUrl",s.response.imgURL)):a.z8.error({message:"上传失败，请重新上传"})},p=(e,t)=>{console.log("file---",e),console.log("fileList---",t),d.noneBtnImg=t.length>=1},g=(e,t,s)=>{f.value=Math.floor(e.percent)},b=(e,t)=>{const s=new Promise(((s,n)=>{i.T.confirm("此操作将删除该图片, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{let s=t.indexOf(e);t.splice(s,1),d.noneBtnImg=!1})).catch((()=>{n(!1)}))}));return s};return(e,t)=>{const a=(0,n.up)("el-icon"),i=(0,n.up)("el-upload");return(0,n.wg)(),(0,n.j4)(i,{"list-type":"picture-card",action:r,class:(0,l.C_)({uoloadBtn:d.showBtnDealImg,disUoloadBtn:d.noneBtnImg}),"on-change":p,"on-success":u,"before-upload":m,"on-progress":g,"before-remove":b,"file-list":s,multiple:!0,limit:1},{default:(0,n.w5)((()=>[(0,n.Wm)(a,{class:"avatar-uploader-icon"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,o.SU)(c.v37))])),_:1})])),_:1},8,["class","file-list"])}}};const d=r;var f=d},100:function(e,t,s){e.exports=s.p+"img/default-user-round-dark.17041ec4.png"}}]);
//# sourceMappingURL=635.2b047a0f.js.map