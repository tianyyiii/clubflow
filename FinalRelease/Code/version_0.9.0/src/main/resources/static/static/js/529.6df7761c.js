"use strict";(self["webpackChunkclubflow"]=self["webpackChunkclubflow"]||[]).push([[529,680],{9680:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var n=s(3396),a=s(7139),o=s(4870),l=s(7178),i=s(2655),d=s(2748),r={__name:"UpImage",props:{product_id:Number},emits:["upUrl"],setup(t,{emit:e}){const s=(0,o.qj)([]),r=(0,n.FN)()?.appContext.config.globalProperties.$Baseurl+"comment/image",c=(0,o.qj)({showBtnDealImg:!0,noneBtnImg:!1}),m=(0,o.iH)(0),p=t=>{console.log("上传前端校验",t);const e=t.size/1024/1024<2;t.type;if(!e)return l.z8.success({message:"上传图片不能超过2MB哦!"}),!1},f=(t,s)=>{console.log("handleSuccessres",t),console.log("handleSuccessfile",s),t?(l.z8.success({message:"上传成功!"}),e("upUrl",s.response.imgURL)):l.z8.error({message:"上传失败，请重新上传"})},u=(t,e)=>{console.log("file---",t),console.log("fileList---",e),c.noneBtnImg=e.length>=1},b=(t,e,s)=>{m.value=Math.floor(t.percent)},h=(t,e)=>{const s=new Promise(((s,n)=>{i.T.confirm("此操作将删除该图片, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{let s=e.indexOf(t);e.splice(s,1),c.noneBtnImg=!1})).catch((()=>{n(!1)}))}));return s};return(t,e)=>{const l=(0,n.up)("el-icon"),i=(0,n.up)("el-upload");return(0,n.wg)(),(0,n.j4)(i,{"list-type":"picture-card",action:r,class:(0,a.C_)({uoloadBtn:c.showBtnDealImg,disUoloadBtn:c.noneBtnImg}),"on-change":u,"on-success":f,"before-upload":p,"on-progress":b,"before-remove":h,"file-list":s,multiple:!0,limit:1},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{class:"avatar-uploader-icon"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,o.SU)(d.v37))])),_:1})])),_:1},8,["class","file-list"])}}};const c=r;var m=c},9529:function(t,e,s){s.r(e),s.d(e,{default:function(){return $}});var n=s(3396),a=s(9242);const o=t=>((0,n.dD)("data-v-214ddd65"),t=t(),(0,n.Cn)(),t),l=(0,n.uE)('<div class="container-fluid position-relative" style="background-color:rgba(102, 102, 102, 1);height:300px;" data-v-214ddd65><button id="upcover" class="upimg" data-v-214ddd65><p class="mb-1" style="font-size:28px;" data-v-214ddd65><span style="font-family:&#39;FontAwesome Regular&#39;, &#39;FontAwesome&#39;, sans-serif;font-weight:400;" data-v-214ddd65></span></p><p class="mb-0" style="font-size:14px;" data-v-214ddd65><span style="font-family:&#39;微软雅黑&#39;, sans-serif;font-weight:400;" data-v-214ddd65>上传封面</span></p></button></div><div class="my-3 d-flex px-3 pb-3 mx-4 align-items-center" style="border-bottom:rgb(233, 233, 233) 1px solid;" data-v-214ddd65><div class="mx-5 d-inline-flex align-items-center" data-v-214ddd65><div class="me-4" style="font-family:&#39;FontAwesome&#39;, sans-serif;font-size:80px;color:#CCCCCC;" data-v-214ddd65><span data-v-214ddd65></span></div><div class="" data-v-214ddd65><p class="mb-0" style="font-size:18px;" data-v-214ddd65><span style="font-family:&#39;微软雅黑 Bold&#39;, &#39;微软雅黑 Regular&#39;, &#39;微软雅黑&#39;, sans-serif;font-weight:700;color:#666666;" data-v-214ddd65>爱好社区名称</span></p><p class="mb-0" style="font-size:14px;" data-v-214ddd65><span style="font-family:&#39;微软雅黑&#39;, sans-serif;font-weight:400;color:#999999;" data-v-214ddd65>副标题</span></p></div></div><div class="ms-5" style="font-size:18px;color:#A4A4A4;" data-v-214ddd65> 创建者编辑页 </div></div>',2),i={id:"basic-info",class:"my-4 px-5 mx-5"},d=o((()=>(0,n._)("div",{class:""},[(0,n._)("span",{class:"ms-2 me-2",style:{"font-family":"'FontAwesome', sans-serif","font-size":"22px"}},""),(0,n._)("span",{style:{"font-family":"'Microsoft JhengHei UI', sans-serif","font-size":"16px",color:"#B82D29"}},"基本信息"),(0,n._)("div",{class:"mt-1",style:{"background-color":"rgb(228, 228, 228)",height:"8px"}})],-1))),r={class:"px-2 py-4",style:{"background-color":"rgb(250, 250, 250)"}},c={class:"w-100 d-flex mb-4 align-items-center",style:{"font-size":"14px"}},m=o((()=>(0,n._)("div",{style:{width:"105px"}},"社区标题：",-1))),p={class:"w-100 d-flex mb-4 align-items-center",style:{"font-size":"14px"}},f=o((()=>(0,n._)("div",{style:{width:"105px"}},"副标题：",-1))),u={class:"w-100 d-flex mb-4 align-items-center",style:{"font-size":"14px"}},b=o((()=>(0,n._)("div",{style:{width:"105px"}},"上传头像：",-1))),h=o((()=>(0,n._)("div",{class:"w-100 px-5 my-2 d-flex justify-content-end"},[(0,n._)("button",{class:"re-btn me-2"},"重置"),(0,n._)("button",{class:"sav-btn"},"保存")],-1))),g={style:{"background-color":"rgb(250, 250, 250)"}},y={id:"basic-info",class:"my-4 px-5 mx-5 py-3"},x=o((()=>(0,n._)("div",{class:""},[(0,n._)("span",{class:"ms-2 me-2",style:{"font-family":"'FontAwesome', sans-serif","font-size":"22px"}},""),(0,n._)("span",{style:{"font-family":"'Microsoft JhengHei UI', sans-serif","font-size":"16px",color:"#B82D29"}},"资料卡"),(0,n._)("div",{class:"mt-1",style:{"background-color":"rgb(228, 228, 228)",height:"8px"}})],-1))),v={class:"px-2 py-4"},I=o((()=>(0,n._)("div",{style:{"font-family":"'华文宋体', sans-serif","font-size":"14px","line-height":"18px"}}," 简介：介绍爱好社区以及建立的目的。文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例。 ",-1))),_=o((()=>(0,n._)("div",{class:"w-100 px-5 my-2 d-flex justify-content-end"},[(0,n._)("button",{class:"re-btn me-2"},"重置"),(0,n._)("button",{class:"sav-btn"},"保存")],-1))),w={class:"my-5 px-5 mx-5 py-3"},U=o((()=>(0,n._)("div",{class:""},[(0,n._)("span",{class:"ms-2 me-2",style:{"font-family":"'FontAwesome', sans-serif","font-size":"22px"}},""),(0,n._)("span",{style:{"font-family":"'Microsoft JhengHei UI', sans-serif","font-size":"16px",color:"#B82D29"}},"提交创建或更改"),(0,n._)("div",{class:"mt-1",style:{"background-color":"rgb(228, 228, 228)",height:"8px"}})],-1))),z={class:"w-100 px-5 my-4 d-flex justify-content-evenly"},B=o((()=>(0,n._)("button",{class:"re-btn",style:{width:"145px",height:"55px","font-size":"18px"}},[(0,n._)("span",{style:{"font-family":"'FontAwesome', sans-serif"}}," "),(0,n.Uk)("重置")],-1))),C=o((()=>(0,n._)("span",{style:{"font-family":"'FontAwesome', sans-serif"}}," ",-1)));function k(t,e,s,o,k,A){const H=(0,n.up)("UpImage");return(0,n.wg)(),(0,n.iD)(n.HY,null,[l,(0,n._)("div",i,[d,(0,n._)("div",r,[(0,n._)("div",c,[m,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>k.habbitInform.name=t),type:"text",placeholder:"请输入爱好名称",maxlength:"20"},null,512),[[a.nr,k.habbitInform.name]])]),(0,n._)("div",p,[f,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>k.habbitInform.inform=t),type:"text",placeholder:"请输入副标题",maxlength:"20"},null,512),[[a.nr,k.habbitInform.inform]])]),(0,n._)("div",u,[b,(0,n.Wm)(H,{onUpUrl:A.getImgURL},null,8,["onUpUrl"])])]),h]),(0,n._)("div",g,[(0,n._)("div",y,[x,(0,n._)("div",v,[I,(0,n.wy)((0,n._)("textarea",{"onUpdate:modelValue":e[2]||(e[2]=t=>k.habbitInform.announcement=t),id:"intro-text",class:"form-control mt-5",placeholder:"介绍爱好社区以及建立的目的。不超过500字。",maxlength:"500",name:"text",style:{height:"160px","border-radius":"3px","font-size":"14px"}},null,512),[[a.nr,k.habbitInform.announcement]])]),_])]),(0,n._)("div",w,[U,(0,n._)("div",z,[B,(0,n._)("button",{onClick:e[3]||(e[3]=(...t)=>A.submitBasicInform&&A.submitBasicInform(...t)),class:"sav-btn",style:{width:"145px",height:"55px","font-size":"18px"}},[C,(0,n.Uk)("提交")])])])],64)}s(7658);var A=s(9680),H=s(4870),F={name:"CreateHabbit",components:{UpImage:A["default"]},data(){return{HabbitId:0,UserId:0,habbitInform:(0,H.qj)({profile:"",name:"",inform:"",UserId:0,announcement:""})}},methods:{getImgURL(t){this.habbitInform.profile=t},submitBasicInform(){let t=this;this.$axios.put("habbit/create",this.habbitInform).then((e=>{console.log(e.data);var s=e.data;1==s.state?(this.HabbitId=s.habbitId,console.log(s.habbitId),alert("创建成功！"),t.$router.push({path:"/habbit",query:{HabbitId:this.HabbitId}})):alert("创建失败！社区名重复！")})).catch((t=>{alert("请求异常")}))},submitAnnouncement(t){var e={UserId:this.UserId,HabbitId:t,context:this.announcement};console.log("CLUBID",ClubId);let s=this;this.$axios.put("club/announcement/create",e).then((t=>{console.log("第二次",t);var e=t.data;1==e.state?(alert("创建成功！"),s.$router.push({path:"/clubeditpage",query:{ClubId:ClubId}})):(alert("创建失败！"),location.reload())})).catch((t=>{alert("请求异常")}))}},created(){this.UserId=this.$store.state.UserId,this.UserId||(this.UserId=0),this.habbitInform.UserId=this.UserId},mounted(){}},D=s(89);const j=(0,D.Z)(F,[["render",k],["__scopeId","data-v-214ddd65"]]);var $=j}}]);
//# sourceMappingURL=529.6df7761c.js.map